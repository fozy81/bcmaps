<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Open Licence Map Layers and Spatial Utilities for Scotland • scotmaps</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Open Licence Map Layers and Spatial Utilities for Scotland">
<meta property="og:description" content="Provides access to various spatial layers for Scotland, such as 
    administrative boundaries, neighbourhood statistical units, etc. 
    Most layers are imported from as sf or Spatial objects
    through function calls in this package. All layers are in British National
    Grid 27700 &lt;https://spatialreference.org/ref/epsg/27700/&gt;. Deeply indebted
    to bcmaps package. This is a modified fork of bcmaps Version 0.18.1.9000
    &lt;https://CRAN.R-project.org/package=bcmaps&gt;.">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">scotmaps</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="articles/scotmaps.html">Basic use cases</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/fozy81/scotmaps">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="scotmaps-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#scotmaps-" class="anchor"></a>scotmaps <img src="reference/figures/readme/scotmaps-sticker.png" height="139" align="right">
</h1></div>
<div id="version-0001" class="section level3">
<h3 class="hasAnchor">
<a href="#version-0001" class="anchor"></a>Version 0.0.0.1</h3>
<!-- badges: start -->

</div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>An <a href="http://r-project.org">R</a> package of spatial map layers for Scotland. This package is a fork of the Province of British Columbia <a href="https://github.com/bcgov/bcmaps"><code>bcmaps</code></a> package.</p>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<p>Provides access to various spatial layers of Scotland, such as administrative boundaries, natural resource management boundaries etc. All layers use the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a> and made available in the <a href="https://spatialreference.org/ref/epsg/27700">27700</a> projection, which is the Scottish Government standard.</p>
<p>Layers are assessed directly from the <a href="https://www.spatialdata.gov.scot/">spatialdata.gov.scot</a> catalogue. See each layer’s individual help file for more detail.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the development version of the <code>scotmaps</code> package, you need to install the <code>devtools</code> package then the <code>scotmaps</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"fozy81/scotmaps"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>To see the layers that are available, run the <code><a href="reference/available_layers.html">available_layers()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/available_layers.html">available_layers</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Layers are accessible by a shortcut function by the same name as the object. Then you can use the data as you would any <code>sf</code> object. The first time you run try to access a layer, you will be prompted for permission to download that layer to your hard drive. Subsequently that layer is available locally for easy future access. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>

<span class="va">ma</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/marine_areas.html">marine_areas</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">ma</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme/unnamed-chunk-5-1.png"><!-- --></p>
<div id="simple-features-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#simple-features-objects" class="anchor"></a>Simple Features objects</h3>
<p>All layers are returned as <a href="https://cran.r-project.org/package=sf"><code>sf</code> spatial objects</a>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/fozy81/scotmaps">scotmaps</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>

<span class="co"># Load and plot the community councils in South Lanarkshire</span>
<span class="va">cc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/community_councils.html">community_councils</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">sl</span> <span class="op">&lt;-</span> <span class="va">cc</span><span class="op">[</span><span class="va">cc</span><span class="op">$</span><span class="va">local_authority</span> <span class="op">==</span> <span class="st">"South Lanarkshire"</span>, <span class="op">]</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">sl</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Next, extract and plot the Carluke community council area</span>
<span class="va">carluke</span> <span class="op">&lt;-</span> <span class="va">cc</span><span class="op">[</span><span class="va">cc</span><span class="op">$</span><span class="va">cc_name</span> <span class="op">==</span> <span class="st">"Carluke"</span>, <span class="op">]</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">carluke</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"lightseagreen"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme/plot-maps-1.png"><!-- --></p>
</div>
<div id="respect-my-local-authority" class="section level3">
<h3 class="hasAnchor">
<a href="#respect-my-local-authority" class="anchor"></a>Respect My <em>Local</em> Authority</h3>
<p>A handy layer for creating maps for display is the <code>local_authorities</code> layer, accessible with the function by the same name. This example also illustrates using the popular <a href="https://ggplot2.tidyverse.org/">ggplot2</a> package to plot maps in R using <code>geom_sf</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="reference/local_authorities.html">local_authorities</a></span><span class="op">(</span><span class="op">)</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">local_authority</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"local_authority"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme/local_authorities-1.png"><!-- --></p>
</div>
<div id="updating-layers" class="section level3">
<h3 class="hasAnchor">
<a href="#updating-layers" class="anchor"></a>Updating layers</h3>
<p>When you first call a layer function scotmaps will remind you when that layer was last updated in your cache with a message. For a number of reasons, it might be necessary to get a fresh layer in your scotmaps cache. The easiest way to update is to use the <code>force</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/community_councils.html">community_councils</a></span><span class="op">(</span>force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Another option is to actively manage your cache by deleting the old layer and calling the function again:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/delete_cache.html">delete_cache</a></span><span class="op">(</span><span class="st">'community_councils'</span><span class="op">)</span>
<span class="va">cc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/community_councils.html">community_councils</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="vignettes" class="section level3">
<h3 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h3>
<p>After installing the package you can view vignettes by typing <code><a href="https://rdrr.io/r/utils/browseVignettes.html">browseVignettes("scotmaps")</a></code> in your R session.</p>
</div>
<div id="utility-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#utility-functions" class="anchor"></a>Utility Functions</h3>
<p>The package also contains a couple of handy utility functions:</p>
<ol>
<li>
<code><a href="reference/fix_geo_problems.html">fix_geo_problems()</a></code> for fixing invalid topologies in <code>sf</code> or <code>Spatial</code> objects such as orphaned holes and self-intersections</li>
<li>
<code><a href="reference/self_union.html">self_union()</a></code> Union a <code>SpatialPolygons*</code> object with itself to remove overlaps, while retaining attributes</li>
</ol>
</div>
</div>
<div id="getting-help-or-reporting-an-issue" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-help-or-reporting-an-issue" class="anchor"></a>Getting Help or Reporting an Issue</h2>
<p>To report bugs/issues/feature requests, please file an <a href="https://github.com/fozy81/scotmaps/issues/">issue</a>.</p>
</div>
<div id="how-to-contribute" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-contribute" class="anchor"></a>How to Contribute</h2>
<p>Pull requests of new scotmaps layers are welcome. If you would like to contribute to the package, please see our <a href="https://github.com/fozy81/scotmaps/blob/master/CONTRIBUTING.md">CONTRIBUTING</a> guidelines.</p>
<p>Please note that this project is released with a <a href="https://github.com/fozy81/scotmaps/blob/master/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
<div id="source-data" class="section level2">
<h2 class="hasAnchor">
<a href="#source-data" class="anchor"></a>Source Data</h2>
<p>The source datasets used in this package come from various sources under open licences, including <a href="https://www.spatialdata.gov.scot/">spatialdata.gov.scot</a>. See the <code>data-raw</code> folder for details on each source dataset.</p>
</div>
<div id="licence" class="section level2">
<h2 class="hasAnchor">
<a href="#licence" class="anchor"></a>Licence</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Modifications copyright (C) 2020 Tim Foster</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co"># Copyright 2017 Province of British Columbia</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co"># </span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># Licensed under the Apache License, Version 2.0 (the "License");</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># you may not use this file except in compliance with the License.</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co"># You may obtain a copy of the License at</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co"># </span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co"># http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co"># </span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co"># Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co"># See the License for the specific language governing permissions and limitations under the License.</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/fozy81/scotmaps/">https://​github.com/​fozy81/​scotmaps/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/fozy81/scotmaps/issues">https://​github.com/​fozy81/​scotmaps/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>Apache License (== 2.0) | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Tim Foster <br><small class="roles"> Author, maintainer </small>  </li>
<li>Andy Teucher <br><small class="roles"> Author </small>  <br><small>(bcmaps author)</small>
</li>
<li>Stephanie Hazlitt <br><small class="roles"> Author </small>  <br><small>(bcmaps author)</small>
</li>
<li>Sam Albers <br><small class="roles"> Author </small>  <br><small>(bcmaps author)</small>
</li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bcgov/repomountie/blob/8b2ebdc9756819625a56f7a426c29f99b777ab1d/doc/state-badges.md"><img src="https://img.shields.io/badge/Lifecycle-Experimental-339999" alt="img"></a></li>
<li><a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></li>
<li><a href="https://github.com/fozy81/scotmaps/actions"><img src="https://github.com/fozy81/scotmaps/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://cran.r-project.org/package=scotmaps"><img src="https://www.r-pkg.org/badges/version/scotmaps" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://CRAN.R-project.org/package=scotmaps"><img src="https://cranlogs.r-pkg.org/badges/scotmaps?color=brightgreen" alt="CRAN Downloads"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Tim Foster, Andy Teucher, Stephanie Hazlitt, Sam Albers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
